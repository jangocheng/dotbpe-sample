// Generated by the protocol buffer compiler.  DO NOT EDIT!
// source: service/gate/user_gate_10001.proto
#region Designer generated code

using System; 
using System.Threading.Tasks; 
using DotBPE.Rpc; 
using DotBPE.Protocol.Amp; 
using Google.Protobuf; 

namespace Survey.Core {

//start for class AbstractUserGateService
   public abstract class UserGateServiceBase : ServiceActor 
   {
      protected override int ServiceId => 10001;
      //调用委托
      private async Task<AmpMessage> ProcessRegisterAsync(AmpMessage req)
      {
         RegisterReq request = null;

         if(req.Data == null ){
            request = new RegisterReq();
         }
         else {
            request = RegisterReq.Parser.ParseFrom(req.Data);
         }

         var result = await RegisterAsync(request);
         var response = AmpMessage.CreateResponseMessage(req.ServiceId, req.MessageId);
         response.Code = result.Code;
         if( result.Data !=null )
         {
             response.Data = result.Data.ToByteArray();
         }
         return response;
      }

      //抽象方法
      public abstract Task<RpcResult<RegisterRsp>> RegisterAsync(RegisterReq request);
      //调用委托
      private async Task<AmpMessage> ProcessLoginAsync(AmpMessage req)
      {
         LoginReq request = null;

         if(req.Data == null ){
            request = new LoginReq();
         }
         else {
            request = LoginReq.Parser.ParseFrom(req.Data);
         }

         var result = await LoginAsync(request);
         var response = AmpMessage.CreateResponseMessage(req.ServiceId, req.MessageId);
         response.Code = result.Code;
         if( result.Data !=null )
         {
             response.Data = result.Data.ToByteArray();
         }
         return response;
      }

      //抽象方法
      public abstract Task<RpcResult<LoginRsp>> LoginAsync(LoginReq request);
      //调用委托
      private async Task<AmpMessage> ProcessEditUserAsync(AmpMessage req)
      {
         EditUserReq request = null;

         if(req.Data == null ){
            request = new EditUserReq();
         }
         else {
            request = EditUserReq.Parser.ParseFrom(req.Data);
         }

         var result = await EditUserAsync(request);
         var response = AmpMessage.CreateResponseMessage(req.ServiceId, req.MessageId);
         response.Code = result.Code;
         if( result.Data !=null )
         {
             response.Data = result.Data.ToByteArray();
         }
         return response;
      }

      //抽象方法
      public abstract Task<RpcResult<EditUserRsp>> EditUserAsync(EditUserReq request);
      //调用委托
      private async Task<AmpMessage> ProcessCheckLoginAsync(AmpMessage req)
      {
         CheckLoginReq request = null;

         if(req.Data == null ){
            request = new CheckLoginReq();
         }
         else {
            request = CheckLoginReq.Parser.ParseFrom(req.Data);
         }

         var result = await CheckLoginAsync(request);
         var response = AmpMessage.CreateResponseMessage(req.ServiceId, req.MessageId);
         response.Code = result.Code;
         if( result.Data !=null )
         {
             response.Data = result.Data.ToByteArray();
         }
         return response;
      }

      //抽象方法
      public abstract Task<RpcResult<GetUserRsp>> CheckLoginAsync(CheckLoginReq request);
      public override Task<AmpMessage> ProcessAsync(AmpMessage req)
      {
         switch(req.MessageId){
            //方法UserGateService.Register
            case 31: return this.ProcessRegisterAsync(req);
            //方法UserGateService.Login
            case 32: return this.ProcessLoginAsync(req);
            //方法UserGateService.EditUser
            case 33: return this.ProcessEditUserAsync(req);
            //方法UserGateService.CheckLogin
            case 34: return this.ProcessCheckLoginAsync(req);
            default: return base.ProcessNotFoundAsync(req);
         }
      }
   }
//end for class AbstractUserGateService
}

#endregion

